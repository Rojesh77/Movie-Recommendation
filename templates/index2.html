{% extends "index1.html" %}

    {% block head%}
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="{{ url_for('static' ,filename='style1.css') }}">
    <!-- <script src="/static/jss.js"></script> -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200;400;500;600&display=swap" rel="stylesheet">
    <!-- <script src="https://cdn.tailwindcss.com"></script> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="{{ url_for('static' ,filename='app.js') }}"></script>
    {% endblock %} 
    

    {% block somecontent1 %} 

    {% endblock %} 

  
  {% block content%}

  <!-- this is the style of below line(style="border: solid 2px gray; padding-right: 33px; height:300px;) -->
  <!-- <div class="container2 text-center grid grid-cols-4 gap-2 w-full"> -->
    
    <!-- <div class="img3 mx-4 my-4" style="margin: 10px;"> -->
      <!-- <img  src="{{ recommended_movie_posters[i] }}" movieposter="{{ recommended_movie_posters[i] }}" alt="Image 1"  data-movieid="{{ recommended_movie_ids[i] }}" onclick="redirectToAnotherPage()"  style="cursor: pointer;"> -->
      <!-- <p class="caption" style="border:1px solid white; color: rgb(10, 233, 215); font-size: 3vh; height: auto; "><b>{{ recommended_movie_titles[i] }}</b></p> -->
      <!-- <img  src="{{ recommended_movie_posters[i] }}" movieposter="{{ recommended_movie_posters[i] }}" alt="Image 1"  data-movieid="{{ recommended_movie_ids[i] }}" > -->


      {% if movie_list %}  
      <div class="container ">
        <div class="slide">
          {% for i in range(recommended_movie_titles|length -2 ) %} 

         <div class="item" style="background-image: url({{recommended_movie_posters[i]}}); " movieposter="{{ recommended_movie_posters[i] }}" alt="Image 1" onclick="redirectToAnotherPage()" data-movieid="{{ recommended_movie_ids[i] }}" >
          
            <div class="content">
              <div class="title">{{recommended_movie_titles[i]}}</div>
             <div class="releasee">{{ movie_release_date[i]}}</div>
             <div class="genres"> {{movie_genres[i]}}</div>
             <!-- <div class="overview">{{movie_overview[i]}}</div> -->
            </div>
            
          </div>
          {% endfor %}
        </div>
        <div class="button">
          <button class="prevv"><i class="fa-solid fa-arrow-left"></i></button>
          <button class="nextt"><i class="fa-solid fa-arrow-right"></i></button>

        </div>
    </div>
      {% endif %} 
      
      <script>
        // JavaScript to handle image click events
          const images = document.querySelectorAll('.item');
        
          images.forEach(image => {
          image.addEventListener('click', () => {
          // Retrieve movie ID from the 'data-movieid' attribute
          const movie_id = image.getAttribute('data-movieid');
        
          // Redirect to the Flask route with the specific movie_id
          window.location.href = `/show_movie?movie_id=${movie_id}`;
          });
          });
        
        </script> 
{% endblock %}
